plugins {
    id "kotlin"
}


sourceCompatibility = 1.7

compileKotlin.kotlinOptions.jvmTarget = "1.6"

compileTestKotlin.kotlinOptions.jvmTarget = "1.6"



dependencies {
    api "org.jetbrains.kotlin:kotlin-stdlib:$kotlinVersion"

    api "org.slf4j:slf4j-api:$slf4JVersion" // can't believe it, when using implementation SearcherBase cannot find slf4j


    compileOnly "org.apache.lucene:lucene-analyzers-common:$latestLuceneVersionCompatibleWithAndroid"
    compileOnly "org.apache.lucene:lucene-queryparser:$latestLuceneVersionCompatibleWithAndroid"


    testApi "org.junit.jupiter:junit-jupiter:$junitVersion"
    testRuntimeOnly "org.junit.jupiter:junit-jupiter-engine:$junitVersion"

    testApi "org.assertj:assertj-core:$assertJVersion"
    testApi "org.mockito:mockito-core:$mockitoVersion"

    testApi "net.dankito.utils:java-utils:$javaUtilsVersion"

    testCompileOnly "org.apache.lucene:lucene-analyzers-common:$latestLuceneVersionCompatibleWithAndroid"
    testCompileOnly "org.apache.lucene:lucene-queryparser:$latestLuceneVersionCompatibleWithAndroid"
}


/*      to share test classes and resources with other projects     */

configurations {
    tests {
        extendsFrom(testRuntimeClasspath)
    }
}

task testJar(type: Jar) {
    archiveClassifier = 'tests'
    from sourceSets.test.output
}

// add the jar generated by the testJar task to the testClasses dependency
artifacts {
    tests testJar
}
